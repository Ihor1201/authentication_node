
// preset form values if we receive a userdata object 
- user = typeof(udata) != 'undefined' ? udata[0] : {}

#account-form-container
	form( method="post")#accountForm.form-horizontal.well.span6
		h1
		p#sub1.subheading Please tell us a little about yourself.
		hr
		fieldset
			#name-cg.control-group
				label.control-label(for='name-tf') Name
				.controls
					input#name-tf.input-xlarge(type='text', name='name', value= user.name)
			#email-cg.control-group
				label.control-label(for='email-tf') Email
				.controls
					input#email-tf.input-xlarge(type='text', name='email', value= user.email)
			#clist-cg.control-group
				label.control-label(for='country-list') Location
				.controls
					select#country-list(name='country')
						each item in countries
							option(selected=item.name == user.country)= item.name
			hr
			p#sub2.subheading
			#user-cg.control-group
				label.control-label(for='user-tf') Username
				.controls
					input#user-tf.input-xlarge.disabled(type='text', name='user', value= user.user)
			#pass-cg.control-group
				label.control-label(for='pass-tf') Password
				.controls
					input#pass-tf.input-xlarge(type='password', name='pass', value= user.pass)
			.form-actions
				button(type='button')#signup-cancel.btn Cancel
				button(type='submit')#signup-submit.btn.btn-primary Submit

// display form errors in a modal window //

#account-form-errors.modal.hide.fade
	div.modal-header
		button.close(data-dismiss='modal') x
		h3 Whoops!
	div.modal-body
		p.subheading It looks like there was a problem.
		ul
	div.modal-footer
		button(data-dismiss="modal").btn.btn-warning OK

script(src='/vendor/jquery.min.js')
script(src='/vendor/jquery.form.js')
script(src='/vendor/bootstrap-modal.js')
script(src='/vendor/bootstrap-transition.js')
script(src='/js/accountController.js')
